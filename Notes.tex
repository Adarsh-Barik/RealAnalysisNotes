\documentclass{report}

%% Language and font encodings
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}

%% Sets page size and margins
\usepackage[a4paper,top=3cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}

%% Useful packages
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage{url}
\usepackage{todonotes}

\newtheoremstyle{upthm}%
{3pt}%
{3pt}%
{\upshape}%
{}%
{\bfseries}%
{:}%
{.5em}%
{\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}%

\theoremstyle{upthm}
\newtheorem{thm}{Theorem}
\newtheorem{defn}{Definition}
\newtheorem{lemma}{Lemma}
\newtheorem{cor}{Corollary}
\newtheorem{prop}{Proposition}
\newtheorem{remark}{Remark}
\newtheorem{claim}{Claim}
\newtheorem{property}{Property}

\newcommand{\reals}{\mathbb{R}}
\newcommand{\naturals}{\mathbb{N}}
\newcommand{\integers}{\mathbb{Z}}
\newcommand{\Expect}{\mathbb{E}}
\newcommand{\expect}[1]{\mathbb{E}\left[#1\right]}
\newcommand{\Prob}{\mathbb{P}}
\newcommand{\prob}[1]{\mathbb{P}\left[#1\right]}
\newcommand{\pprob}[1]{\mathbb{P}[#1]}
\newcommand{\eg}{e.g.\xspace}
\newcommand{\ie}{i.e.\xspace}
\newcommand{\iid}{i.i.d.\xspace}
\newcommand{\pth}[1]{\left( #1 \right)}
\newcommand{\qth}[1]{\left[ #1 \right]}
\newcommand{\sth}[1]{\left\{ #1 \right\}}
\newcommand{\bpth}[1]{\Bigg( #1 \Bigg)}
\newcommand{\bqth}[1]{\Bigg[ #1 \Bigg]}
\newcommand{\bsth}[1]{\Bigg\{ #1 \Bigg\}}
\newcommand{\toprob}{{\xrightarrow{\Prob}}}
\newcommand{\tolp}[1]{{\xrightarrow{L^{#1}}}}
\newcommand{\toas}{{\xrightarrow{{\rm a.s.}}}}
\newcommand{\toae}{{\xrightarrow{{\rm a.e.}}}}
\newcommand{\todistr}{{\xrightarrow{{\rm D}}}}
\newcommand{\eqdistr}{{\stackrel{\rm D}{=}}}
\newcommand{\iiddistr}{{\overset{\text{\iid}}{\sim}}}
\newcommand{\inddistr}{{\overset{\text{ind}}{\sim}}}
\newcommand{\var}{\mathsf{var}}
\newcommand\indep{\protect\mathpalette{\protect\independenT}{\perp}}
\def\independenT#1#2{\mathrel{\rlap{$#1#2$}\mkern2mu{#1#2}}}
\newcommand{\Bern}{\text{Bern}}
\newcommand{\iprod}[2]{\left \langle #1, #2 \right\rangle}
\newcommand{\Iprod}[2]{\langle #1, #2 \rangle}
%\newcommand{\indc}[1]{{\mathbf{1}_{\left\{{#1}\right\}}}}
\newcommand{\indc}[1]{{\mathbf{1}\left\{{#1}\right\}}}
\newcommand{\iindc}[1]{{\mathbf{1}{\{{#1}\}}}}
\newcommand{\Indc}{\mathbf{1}}
\newcommand{\Th}{{^{\rm th}}}
\newcommand{\diverge}{\to \infty}
\newcommand{\calA}{{\mathcal{A}}}
\newcommand{\calB}{{\mathcal{B}}}
\newcommand{\calC}{{\mathcal{C}}}
\newcommand{\calD}{{\mathcal{D}}}
\newcommand{\calE}{{\mathcal{E}}}
\newcommand{\calF}{{\mathcal{F}}}
\newcommand{\calG}{{\mathcal{G}}}
\newcommand{\calH}{{\mathcal{H}}}
\newcommand{\calI}{{\mathcal{I}}}
\newcommand{\calJ}{{\mathcal{J}}}
\newcommand{\calK}{{\mathcal{K}}}
\newcommand{\calL}{{\mathcal{L}}}
\newcommand{\calM}{{\mathcal{M}}}
\newcommand{\calN}{{\mathcal{N}}}
\newcommand{\calO}{{\mathcal{O}}}
\newcommand{\calP}{{\mathcal{P}}}
\newcommand{\calQ}{{\mathcal{Q}}}
\newcommand{\calR}{{\mathcal{R}}}
\newcommand{\calS}{{\mathcal{S}}}
\newcommand{\calT}{{\mathcal{T}}}
\newcommand{\calU}{{\mathcal{U}}}
\newcommand{\calV}{{\mathcal{V}}}
\newcommand{\calW}{{\mathcal{W}}}
\newcommand{\calX}{{\mathcal{X}}}
\newcommand{\calY}{{\mathcal{Y}}}
\newcommand{\calZ}{{\mathcal{Z}}}

\newcommand{\tb}[1]{{\textbf{#1}}}
\newcommand{\mb}[1]{{\mathbb{#1}}}

\newcommand{\bern}[1]{\mathop{\text{Bern}}(#1)}
\newcommand{\ind}[1]{\textbf{1}_{(#1)}}
\newcommand{\set}[1]{\big\lbrace #1 \big\rbrace}
\newcommand{\union}{\bigcup}
\newcommand{\vl}{\Big|}
\newcommand{\intersection}{\bigcap}
\newcommand{\supp}{\mathop{\text{supp}}}
%\newcommand{\inf}{\mathop{\text{inf}}}
%\newcommand{\limsup}{\mathop{\text{lim sup}}}
%\newcommand{\liminf}{\mathop{\text{lim inf}}}


\title{Theorems, Lemmas, Properties: Real Analysis and Measure Theory}
\author{Adarsh}
\date{Ref: Real Analysis 3: Stein-Shakarachi}

\begin{document}
\maketitle

\chapter{MEASURE THEORY}
\section{Basic Definitions}
\begin{defn}[Open Ball]
	The open ball in $\reals^d$ centered at $x$ and of radius $r$ is defined by
	$$B_r(x) = \set{y \in \reals^d : | y - x | < r}$$
\end{defn}
\begin{defn}[Open Set and Closed Set]
	A subset $E \subset \reals^d$ is open if for every $x \in E$ there exists $r > 0$ with
	$B_r(x) \subset E$. By definition, a set is closed if its complement is open. 
	\begin{itemize}
		\item Any (not necessarily countable) union of open sets is open
		\item The intersection of finitely many open sets is open
		\item Any (not necessarily countable) intersection of close sets is closed
		\item The union of finitely many close sets is close
	\end{itemize}
\end{defn}
\begin{remark}
	A set can be neither closed nor open. Eg. $\Big[0, 1\Big)$ is neither closed nor open.
\end{remark}

\begin{defn}[Bounded Set and Compact Set]
	A set $E$ is bounded if it is contained in some ball of finite radius.	A bounded set is compact if it is also closed.
\end{defn}
\begin{property}[Heine-Borel covering property]
	Any covering of a compact set by a collection of open sets contains a finite subcovering.
\end{property}
\begin{defn}[Limit Point]
	A point $x \in \reals^d$ is a limit point of the set $E$ if for every $r > 0$, the ball
	$B_r(x)$ contains points of $E$.
\end{defn}
\begin{defn}[Isolated Point]
	An isolated point of $E$ is a point $x \in E$ such that there exists an $r > 0$ where $B_r(x) \intersection E$ is equal to $x$.
\end{defn}
\begin{defn}[Interior]
	A point $x \in E$ is an interior point of $E$ if there exists $r > 0$ such that $B_r(x) \subset E$. The set of all interior points of $E$ is called the interior of E.
\end{defn}
\begin{defn}[Closure]
	The closure $\bar{E}$ of the $E$ consists of the union of $E$ and all
	its limit points.
\end{defn}
\begin{defn}[Boundary]
	The boundary of a set $E$, denoted by $\delta E$, is the set of	points which are in the closure of $E$ but not in the interior of $E$.
\end{defn}
\begin{property}\item
	\begin{itemize}
		\item The closure of a set is a closed set.
		\item Every point in $E$ is a limit point of $E$.
		\item A set is closed if and only if it contains all its limit points.
	\end{itemize}
\end{property}
\begin{defn}[Perfect Set]
	A closed set $E$ is perfect if $E$ does not have any isolated points.
\end{defn}

\begin{defn}[Rectangle]
	A (closed) rectangle $R$ in $\reals^d$ is given by the product of $d$ one-dimensional
	closed and bounded intervals,
	$$R = [a_1, b_1] \times [a_2, b_2] \times \dots \times [a_d, b_d]$$
	where $a_j$, $b_j$ are real numbers, $j = 1, 2, \dots, d$. If all intervals are equal then it is a cube.
\end{defn}

\begin{lemma}
	If a rectangle is the almost disjoint (interior disjoint) union of finitely many other rectangles, say $R = \union_{k=1}^N R_k $ then $|R| = \sum_{k=1}^{N} |R_k|$.
\end{lemma}

\begin{lemma}
	If $R, R_1, \dots,R_N$ are rectangles, and $R \subset \union_{k=1}^{N} R_k $ then$|R| \leq \sum_{k=1}^{N} |R_k|$.
\end{lemma}

\begin{thm}
	Every open subset $O$ of $\reals$ can be written uniquely as a countable union of disjoint open intervals. In general, this is not true for $\reals^d, d > 1$.
\end{thm}

\begin{thm}
	Every open subset $O$ of $\reals^d, d \geq 1$, can be written as a countable union of almost disjoint closed rectangles (cubes).
\end{thm}

\begin{defn}[\tb{The Cantor Set}]
	Let $C_0 = [0, 1]$ and we get $C_k$ by dividing each disjoint interval of $C_{k-1}$ in three equal parts and deleting the middle part (end points are included in the set), then the Cantor set is defined as,
	$$ \calC =  \intersection_{k=0}^{\infty} C_k$$
\end{defn}
\begin{property}\item
	\begin{itemize}
		\item $C_0 \supset C_1 \supset C_2 \dots \supset C_k \supset C_{k+1} \dots$.
		\item $\calC$ is closed and	bounded, hence compact. 
		\item $\calC$ is totally disconnected: given any $x, y \in \calC$ there exists $z \notin \calC$ that lies between $x$ and $y$. 
		\item $\calC$ is perfect: it has no isolated points and it is closed.
		\item $\calC$ is not countable: maps to power set of $\naturals$
		\item $\calC$ has measure 0.
		\item $x \in \calC \iff x = \sum_{k=0}^{\infty} a_k 3^{-k}, a_k \in \set{0, 2}$ 
	\end{itemize}
\end{property}

%%% NEW SECTION
\section{The Outer (Exterior) Measure}

\begin{defn}[Outer Measure]
	If $E$ is any subset of $\reals^d$, the	outer measure of $E$ is,
	$$m_{*}(E) = \inf \sum_{k=1}^{\infty} \vl R_k \vl $$
	where $\inf$ is taken over all countable coverings $E \subset \union_{k=1}^{\infty} R_k$ by closed rectangles (cubes). Note that $0 \leq m_*(E) \leq \infty$.
\end{defn}

\begin{property}
	The outer measure of a point is zero.
\end{property}
\begin{property}
	The outer measure of a closed rectangle (open rectangle) is equal to its volume.
\end{property}
\begin{property}
	The outer measure of $\reals^d$ is infinite.
\end{property}
\begin{property}
	For every $\epsilon > 0$, there exists a covering $E \subset \union_{j=1}^{\infty} R_j$  with
	$$ \sum_{j=1}^{\infty} m_*(R_j) \leq m_*(E) + \epsilon $$
\end{property}
\begin{property}[Monotonicity]
	If $E_1 \subset E_2$, then $m_*(E1) \leq m_*(E_2)$.
\end{property}

\begin{property}[Countable Sub-additivity]
	If $E = \union_{j=1}^{\infty} E_j $, then $ m_*(E) \leq \sum_{j=1}^{\infty} m_*(E_j)$.
\end{property}

\begin{property}
	If $E \in \reals^d$, then $m_*(E) = \inf m_*(\calO)$, where the $\inf$ is taken over all open sets $\calO$ containing $E$.
\end{property}

\begin{property}
	If $E = E_1 \union E_2$ and $d(E_1, E_2) > 0$ then, $m_*(E) = m_*(E_1) + m_*(E_2)$ where $d(E_1, E_2) = \inf_{x \in E_1, y \in E_2} \vl x - y \vl$. 
\end{property}

\begin{property}
	If a set $E$ is the countable union of almost disjoint rectangles $ E = \union_{k=1}^{\infty} R_k $, then $m_*(E) = \sum_{k=1}^{\infty} \vl R_k \vl$
\end{property}

\begin{remark}
	Despite above two properties, in general it is {\bf NOT TRUE} that if $E_1 \union E_2$ is a disjoint union of subsets of $\reals^d$, then
	$$ m_*(E_1 \union E_2) = m_*(E_1) + m_*(E_2) .$$
\end{remark}

%%% NEW SECTION
\section{Measurable Sets and Lebesgue Measure}

\begin{defn}[Lebesgue Measurable]
	A subset $E$ of $\reals^d$ is Lebesgue measurable, or simply measurable, if for any $ \epsilon > 0$ there exists an open set $\calO$ with $E \subset \calO$ and $m_*(\calO - E) \leq \epsilon$. If $E$ is measurable, we define its Lebesgue measure (or measure) $m(E)$ by $m(E) = m_*(E)$.
\end{defn}

\begin{property}
	Every open set in $\reals^d$ is measurable.
\end{property}

\begin{property}
	If $m_*(E) = 0$, then $E$ is measurable. In particular, if $F$ is a subset of a set of exterior measure $0$, then $F$ is measurable.
\end{property}

\begin{property}
	A countable union of measurable sets is measurable.
\end{property}

\begin{property}
	Closed sets are measurable.
\end{property}

\begin{lemma}
	If $F$ is closed, $K$ is compact, and these sets are disjoint, then $d(F,K) > 0$.
\end{lemma}

\begin{property}
	The complement of a measurable set is measurable.
\end{property}

\begin{property}
	A countable intersection of measurable sets is measurable.
\end{property}

\begin{remark}
	The operations of uncountable unions or intersections are not permissible when dealing with measurable sets!
\end{remark}

\begin{thm}
	If $E_1, E_2, \dots$ are disjoint measurable sets, and $E = \union_{j=1}^{\infty} E_j$, then $m(E) = \sum_{j=1}^{\infty} m(E_j)$.
\end{thm}

\begin{defn}[$\bf E_k \nearrow E$]
	If $E_1, E_2, \dots $ is a countable collection of subsets of $S \in \reals^d$ that increases to $E$ in the sense that $ E_1 \subseteq E_2 \subseteq \dots \subseteq E_k \subseteq E_{k+1} \subseteq \dots $  and $E = \union_{k=1}^{\infty} E_k$, then we write $E_k \nearrow E$.
\end{defn}

\begin{property} 
	If $E_k \nearrow E$, then $m(E) = \lim_{k \rightarrow \infty} m(E_k)$
\end{property}

\begin{defn}[$\bf E_k \searrow E$]
	If $E_1, E_2, \dots $ is a countable collection of subsets of $S \in \reals^d$ that decreases to $E$ in the sense that $ E_1 \supseteq E_2 \supseteq \dots \supseteq E_k \supseteq E_{k+1} \supseteq \dots $  and $E = \intersection_{k=1}^{\infty} E_k$, then we write $E_k \searrow E$.
\end{defn}

\begin{property} 
	If $E_k \searrow E$ and $m(E_k) < \infty$ for some $k$, then $m(E) = \lim_{k \rightarrow \infty} m(E_k)$
\end{property}

\begin{thm}
	Suppose $E$ is a measurable subset of $\reals^d$ . Then, for every $\epsilon > 0$:
	\begin{itemize}
		\item There exists an open set $\calO$ with $E \subset \calO$ and $m(\calO - E) \leq \epsilon$.
		\item There exists a closed set $F$ with $F \subset E$ and $m(E - F ) \leq \epsilon$.
		\item If $m(E)$ is finite, there exists a compact set $K$ with $K \subset E$ and $m(E - K) \leq \epsilon$.
		\item If $m(E)$ is finite, there exists a finite union $F = \union_{j=1}^N R_j$ of closed rectangles (cubes) such that $m (E \triangle F) \leq \epsilon$, where symmetric difference $E \triangle F = (E - F) \union (F - E)$.
	\end{itemize}
\end{thm}

\begin{property}[Invariance]
	\item
	\begin{itemize}
		\item Translation Invariance. If $E$ is a measurable set and $h \in \reals^d$ , then the set $E_h = E + h = \set{x + h : x \in E}$ is also measurable, and $m(E + h) = m(E)$.
		\item Dilation Invariance. If $E$ is a measurable set and $\delta > 0 \in \reals$ , then the set $\delta E = \set{\delta x : x \in E}$ is also measurable, and $m(\delta E) = \delta^d m(E)$.
		\item Reflection Invariance. Whenever $E$ is measurable, so is $ -E = \set{-x : x \in E}$ and $m(-E) = m(E)$.
	\end{itemize}
\end{property}

\begin{defn}[$\bf G_\delta$ set]
	A $G_\delta$ set is, an intersection of a countable family of open sets.
\end{defn}

\begin{property}
	A subset $E$ of $\reals^d$ is measurable if and only if $E$ differs from a $G_\delta$ by a set of measure zero.
\end{property}

\begin{defn}[$\bf F_\sigma$ set]
	A $F_\sigma$ set is, a union of a countable family of closed sets.
\end{defn}


\begin{property}
	A subset $E$ of $\reals^d$ is measurable if and only if $E$ differs from a $F_\sigma$ by a set of measure zero.
\end{property}

\begin{defn}[$\sigma$-algebra]
	A $\sigma$-algebra of sets is a collection of subsets of $\reals^d$ that is closed under countable unions, countable intersections, and complements. Example: Collection of all subsets of $\reals^d$, collection of all measurable sets of $\reals^d$
\end{defn}
\begin{defn}[Borel $\sigma$-algebra and Borel sets]
	A set $E \subseteq \reals^d $ is an $F_\sigma$ set provided that it is the countable union of closed	sets and is a $G_\delta$ set if it is the countable intersection of open sets.The smallest $\sigma$-algebra that contains all open sets. Elements of this $\sigma$-algebra are called	Borel sets.
\end{defn}

\begin{property}
	$G_\delta$ and $F_\sigma$ are examples of Borel set.
\end{property}

\begin{remark}
	Remember that it is possible to construct subsets of $\reals^d$ which are not measurbale. Check reference book for construction of a non-measurable set $\calN \subset \reals$. 
\end{remark}
\section{Measurable Functions}
\begin{defn}[Characteristic Function]
	A characteristic function of a set $E$ is defined by 
	$$
	 \chi_E(x) = \begin{cases}
	1,\ if\ x \in E \\
	0,\ if\ x \notin E.
	\end{cases}
	$$
\end{defn}
\begin{defn}[Step Function]
	Step functions are defined as finite sum, $ f = \sum_{k=1}^{N} a_k \chi_{R_k} $, where each $R_k$ is a rectangle and each $a_k$ is a constant. These are used in Reimann integral.
\end{defn}
\begin{defn}[Simple Function]
	A simple function is a finite sum,  $ f = \sum_{k=1}^{N} a_k \chi_{E_k} $, where each $E_k$ is a measurable set of finite measure, and the $a_k$ are constants. These are used in Lebesgue integral.
\end{defn}

\begin{defn}[Measurable Function]
	A function $f$ defined on a measurable subset E of $\reals^d$ is measurable,
	if for all $ a \in \reals$, the set
	$$f^{-1}(\big[-\infty, a\big)) = \set{x \in E: f(x) < a} = \set{f < a}$$ is measurable. Equivalently, $\set{f \leq a}, \set{f > a}, \set{f \geq a}$ are measurable. If $f$ is finite valued then $\set{a < f < b}$ is measurable (with any combinations of $\leq, \geq$).
\end{defn} 
\begin{property}
	The finite-valued function $f$ is measurable if and only if $f^{-1}(O)$ is measurable for every open set $O$, and if and only if $f^{-1}(F)$ is measurable for every closed set $F$.
\end{property}
\begin{property}
	If $f$ is continuous on $\reals^d$, then $f$ is measurable. If $f$ is measurable and finite-valued, and $\phi$ is continuous, then  $\phi \circ f$ is measurable. But $f \circ \phi$ may not.
\end{property}
\begin{property}
	Suppose $\set{f_n}_{n=1}^\infty$ is a sequence of measurable functions. Then $$\sup_n f_n(x), \inf_n f_n(x), \limsup_{n \rightarrow \infty} f_n(x), \liminf_{n \rightarrow \infty} f_n(x)  $$ are measurable.
\end{property}

\begin{remark}
	$\liminf$ is basically $\inf$ of limit points and likewise $\limsup$ is $\sup$ of limit points. If there is just one limit point and limit exists then $\limsup$ and $\liminf$ are equal. Mathematically, $\liminf_{n \rightarrow \infty} f_n= \lim_{n \rightarrow \infty} \inf_{k \geq n} f_k$ and  $\limsup_{n \rightarrow \infty} f_n= \lim_{n \rightarrow \infty} \sup_{k \geq n} f_k$
\end{remark}

\begin{property}
	Suppose $\set{f_n}_{n=1}^\infty$ is a sequence of measurable functions. Then $$\lim_{n \rightarrow \infty} f_n(x) = f(x) $$ then $f$ is measurable.
\end{property}
\begin{property}
	If $f$ and $g$ are measurable, then,
	\begin{itemize}
		\item The integer powers $f^k, k \geq 1$ are measurable.
		\item $f + g$ and $fg$ are measurable if both $f$ and $g$ are finite-valued.
	\end{itemize}
\end{property}

\begin{defn}[Almost Everywhere]
	We shall say that two functions $f$ and $g$ defined on a set $E$ are equal almost everywhere, and write,
	$$ f(x) = g(x)\ a.e.\ x \in E,$$
	if the set $\set{x \in E : f(x) \neq g(x)}$ has measure zero. All the properties above can be relaxed to conditions holding almost everywhere.
\end{defn}

\begin{property}
	Suppose $f$ is measurable, and $f(x) = g(x)$ for a.e. $x$. Then $g$ is measurable.
\end{property}

\begin{defn}[Pointwise Convergence of a Function]
	Let $E \subset \reals^d$ and let $\set{f_n}_{n=1}^{\infty}$ be a sequence of real valued functions defined on $E$. Then $\set{f_n}_{n=1}^\infty$ converges pointwise to $f$ if given any $x$ in $E$ and	given any $\epsilon > 0$, there exists a natural number $N(x, \epsilon)$ such that $|f_n(x) - f(x)| < \epsilon$ for every $n > N(x, \epsilon)$.
\end{defn}

\begin{defn}[Uniform Convergence of a Function]
	Let $E \subset \reals^d$ and let $\set{f_n}_{n=1}^{\infty}$ be a sequence of real valued functions defined on $E$. Then $\set{f_n}_{n=1}^\infty$ converges uniformly to $f$ if given any $\epsilon > 0$, there exists a natural number $N(\epsilon)$ such that $|f_n(x) - f(x)| < \epsilon$ for every $n > N(\epsilon)$ for every $x \in E$.
\end{defn}

\begin{thm}
	Suppose $f$ is a non-negative measurable function on $\reals^d$. Then there exists an increasing sequence of non-negative simple functions $\set{\varphi}_{k=1}^{\infty} $ that converges pointwise to $f$, namely,
	$$ \varphi_k (x) \leq \varphi_{k+1} (x)\ and\ \lim_{k \rightarrow \infty} = f(x)\ \forall\ x.$$
\end{thm}

\begin{thm}
	Suppose $f$ is a measurable function on $\reals^d$. Then there exists a sequence of simple functions $\set{\varphi}_{k=1}^{\infty} $ that satisfies,
	$$ |\varphi_k (x)| \leq |\varphi_{k+1} (x)| \ and\ \lim_{k \rightarrow \infty} = f(x)\ \forall\ x.$$
\end{thm}

\begin{thm}
	Suppose $f$ is measurable on $\reals^d$. Then there exists a sequence of step functions $\set{\psi}_{k=0}^\infty$ that converges pointwise to $f(x)$ for almost every $x$.
\end{thm}

\begin{thm}[Egorov]
	Suppose $\set{f_k}_{k=1}^\infty$ is a sequence of measurable functions defined on a measurable set $E$ with $m(E) < \infty $, and assume that $f_k \rightarrow f$ a.e on $E$. Given $\epsilon > 0 $, we can find a closed set $A_\epsilon \subset E$ such that $m(E - A_\epsilon) \leq \epsilon$ and $f_k \rightarrow f$ uniformly on $A_\epsilon$.
\end{thm}

\begin{thm}[Lusin]
	Suppose $f$ is measurable and finite valued on $E$ with $E$ of finite measure. Then for every $\epsilon > 0$ there exists a closed set $F_\epsilon$, with
	$$F_\epsilon \subset E\ and\ m(E - F_\epsilon) \leq \epsilon$$
	and such that $f|_{F_\epsilon}$ is continuous.
\end{thm}



\chapter{INTEGRATION THEORY}

\section{The Lebesgue Integral: Basic Properties and Convergence Theorems}

\begin{defn}[Canonical Form of Simple Function]
	The canonical form of a simple function $\varphi$ is the unique decomposition as below,
	$$  \varphi = \sum_{k=1}^{M} c_k \chi_{F_k}  $$
	 where the numbers $c_k$ are distinct and non-zero, and the sets $F_k$ are disjoint.
\end{defn}
\begin{property}
	If $\varphi$ is a simple function with canonical form $  \varphi = \sum_{k=1}^{M} c_k \chi_{F_k}  $, then we define the Lebesgue integral of $\varphi$ by $\int_{\reals^d}^{} \varphi(x) dx = \sum_{k=1}^{M} c_k m(Fk)$.
\end{property}
\begin{property}
	If $E$ is a measurable subset of $\reals^d$ with finite measure, then $ \varphi(x) \chi_E(x)$
	is also a simple function, and we define,
	$$ \int_{E} \varphi(x) dx = \int \varphi(x) \chi_E(x) dx $$
	where second integral is over $\reals^d$.
\end{property}

\begin{prop}
	The integral of simple functions defined above satisfies the following properties:
	\begin{itemize}
		\item Independence of the representation. If $ \varphi = \sum_{k=1}^{N} a_k \chi_{E_k}$ is any representation of $\varphi$, then $ \int \varphi = \sum_{k=1}^{N} a_k m(E_k) $.
		\item Linearity. If $\varphi$ and $\psi$ are simple, and $a, b \in \reals$, then $\int (a \varphi + b \psi) = a \int \varphi + b \int \psi $
		\item Additivity. If $E$ and $F$ are disjoint subsets of $\reals^d$ with finite measure, then $ \int_{E \union F} \varphi = \int_{E} \varphi + \int_{F} \varphi $
		\item Monotonicity. If $\varphi  \leq \psi$ are simple, then $ \int \varphi \leq \int \psi$
		\item Triangle inequality. If $\varphi$ is a simple function, then so is $|\varphi|$, and $ \vl \int \varphi \vl \leq \int | \varphi |  $
	\end{itemize}
\end{prop}

\begin{defn}[Support of a Function]
	Support is defined as $\supp(f) = \set{x : f(x) \neq 0} $. We shall say that $f$ is supported on a set $E$, if $f(x) = 0$ whenever $x \notin E$.
\end{defn}

\begin{lemma}
	Let $f$ be a bounded function supported on a set $E$ of finite measure. If $\set{\varphi_n}_{n=1}^\infty$ is any sequence of simple functions bounded by $M$, supported on $E$, and with $ \varphi_n(x) \rightarrow f(x)$ for a.e. $x$, then:
	\begin{itemize}
		\item The limit $\lim_{n \rightarrow \infty} \int \varphi_n$ exists.
		\item If $f = 0$ a.e., then the limit $\lim_{n \rightarrow \infty} \int \varphi_n$ equals to $0$.
	\end{itemize}
\end{lemma}

\begin{defn}[Lebesgue Integral of Bounded Functions Supported on Sets of Finite Measure]
For such a function $f$, we define its Lebesgue Integral by,
$$ \int f(x) dx = \lim_{n \rightarrow \infty} \int \varphi_n(x) dx $$
where $\set{\varphi_n}$ is {\bf any} sequence of simple functions satisfying: $| \varphi_n | \leq M$, each $\varphi_n$ is supported on the support of $f$, and $\varphi_n(x) \rightarrow f(x)$ for a.e. $x$ as $n$ tends to infinity.  
\end{defn}

\begin{property}
	If $E$ is a subset of $\reals^d$ with finite measure, and $f$ is bounded with $m(supp(f)) < \infty$, then:
	$$ \int_E f(x) dx = \int f(x) \chi_E(x) dx $$
\end{property}

\begin{prop}
	Suppose $f$ and $g$ are bounded functions supported on sets of finite measure. Then the following properties hold. 
	\begin{itemize}
		\item Linearity. If $a, b \in \reals$, then $\int (af + bg) = a \int f + b \int g$.
		\item Additivity. If $E$ and $F$ are disjoint subsets of $\reals^d$, then $\int_{E \union F} f = \int_E f + \int_F f$.
		\item Monotonicity. If $f \leq g$, then $\int f \leq \int g$.
		\item Triangle Inequality. $|f|$ is also bounded, supported on a set of finite
		measure, and $\vl \int f \vl \leq \int |f|$.
	\end{itemize}
\end{prop}

\begin{thm}[Bounded convergence theorem]
Suppose that $\set{f_n}$ is a sequence of measurable functions that are all bounded by $M$, are supported on a set $E$ of finite measure, and $f_n(x) \rightarrow f(x)$ a.e. $x$ as $n \rightarrow \infty$. Then $f$ is measurable, bounded, supported on $E$ for a.e. x, and
$$ \int |f_n - f| \rightarrow 0,\ as\ n\rightarrow \infty. $$
Consequently,
$$ \int f_n \rightarrow \int f,\ as\ n \rightarrow \infty. $$	
\end{thm}

\begin{thm}
	Suppose $f$ is Riemann integrable on the closed interval $[a, b]$. Then $f$ is measurable, and 
	$$ \int_{[a, b]}^\calR f(x) dx  = \int_{[a, b]}^\calL f(x) dx ,$$
	where the integral on the left-hand side is the standard Riemann integral, and that on the right-hand side is the Lebesgue integral. Note that if $f$ is Riemann integrable, then $f$ is bounded.
\end{thm}

\begin{defn}[Lebesgue Integral for Non-negative Functions]
	For non-negative functions $f$ we define its (extended) Lebesgue integral by
	$$\int f(x) dx = \sup_{g} \int g(x) dx$$
	where the supremum is taken over all measurable functions $g$ such that	$0 \leq g \leq f$ , and where $g$ is bounded and supported on a set of finite measure. If $\int f(x) dx < \infty$ then $f$ is said to be Lebesgue integrable or simply integrable.
\end{defn}

\begin{property}
	The integral of non-negative measurable functions enjoys the following properties:
	\begin{itemize}
		\item Linearity. If $f, g \geq 0$, and $a, b$ are positive real numbers, then $\int (a f + b g) = a \int f + b \int g$.
		\item Additivity. If $E$ and $F$ are disjoint subsets of $\reals^d$ , and $f \geq 0$, then $\int_{E \union F} f = \int_E f + \int_F f $.
		\item Monotonicity. If $0 \leq f \leq g$, then $\int f \leq \int g$.
		\item If $g$ is integrable and $0 \leq f \leq g$, then $f$ is integrable.
		\item If $f$ is integrable, then $f (x) < \infty$ for almost every $x$.
		\item If $f = 0$, then $f (x) = 0$ for almost every $x$.
	\end{itemize}
\end{property}

\begin{lemma}[Fatou]
	Suppose $\set{f_n}$ is a sequence of measurable functions with $f_n \geq 0$. If $\lim_{n \rightarrow \infty} f_n (x) = f (x)$ for a.e. $x$, then 
	$$ \int f \leq \liminf_{n \rightarrow \infty} \int f_n $$
\end{lemma}

\begin{cor}
	Suppose $f$ is a non-negative measurable function, and $\set{f_n}$ a sequence of non-negative measurable functions with $f_n (x) \leq f(x)$ and $f_n (x) \rightarrow f (x)$ for almost every $x$. Then $\lim_{n \rightarrow \infty} \int f_n = \int f$.
\end{cor}

\begin{defn}[$\bf f_n \nearrow f$ and $\bf f_n \searrow f$]
	we shall write $fn \nearrow f$	whenever $\set{f_n}_{n=1}^{\infty}$ is a sequence of measurable functions that satisfies $ f_n(x) \leq f_{n+1}(x)$ a.e $x$, all $n \geq 1$ and $\lim_{n \rightarrow \infty} f_n(x) = f(x)$ a.e $x$. Similarly, we write $fn \searrow f$	whenever $\set{f_n}_{n=1}^{\infty}$ is a sequence of measurable functions that satisfies $ f_n(x) \geq f_{n+1}(x)$ a.e $x$, all $n \geq 1$ and $\lim_{n \rightarrow \infty} f_n(x) = f(x)$ a.e $x$.
\end{defn}

\begin{thm}[Monotone Convergence Theorem]
	Suppose $\set{f_n}$ is a sequence of non-negative measurable functions with $ f_n \nearrow f$. Then $\lim_{n \rightarrow \infty} \int f_n = \int f$.
\end{thm}

\begin{cor}
	Consider a series $ \sum_{k=1}^{\infty} a_k(x)$, where $a_k(x) \geq 0$ is measurable for every $k \geq 1$. Then, $\int \sum_{k=1}^{\infty} a_k(x) dx  = \sum_{k=1}^{\infty} \int a_k(x) dx $. If $\sum_{k=1}^{\infty} \int a_k(x) dx$ is finite, then the series $ \sum_{k=1}^{\infty} a_k(x)$ converges for a.e. $x$.
\end{cor}

\begin{defn}[Lebesgue Integral for Any Real Valued Function]
	If $f$ is any real-valued measurable function on $\reals^d$, we say that $f$ is 	Lebesgue integrable (or just integrable) if the non-negative measurable function $|f|$ is integrable in the sense of the previous definitions. Let $f$ be Lebesgue integral and $f^+(x) = \max(f(x), 0)$ , $f^-(x) = \max(-f(x), 0)$, so that $f^+$ and $f^-$ are non-negative and $f = f^+ - f^-$. Since $f^{\pm}  \leq |f|$, both functions $f^+$ and $f^-$ are integrable whenever $f$ is, and we then define the Lebesgue integral of $f$ by,
	$\int f = \int f^+ - \int f^-$.
\end{defn}

\begin{property}
	If $f = f_1 - f_2$ such that $f_1, f_2 \geq 0$ then $\int f = \int f_1 - \int f_2$.
\end{property}

\begin{prop}
	The integral of Lebesgue integrable functions is linear, additive, monotonic, and satisfies the triangle inequality. 
\end{prop}

\begin{prop}
	Suppose $f$ is integrable on $\reals^d$. Then for every $\epsilon > 0$:
	\begin{enumerate}
		\item  There exists a set of finite measure $B$ (a ball, for example) such
		that $\int_{B^c} |f| < \epsilon$.
		\item There is a $\delta > 0$ such that $\int_E |f| < \epsilon$ whenever $m(E) < \delta$. This is known as absolute continuity.
	\end{enumerate}
\end{prop}

\begin{thm}[Dominated Convergence Theorem]
	Suppose $\set{f_n}$ is a sequence of measurable functions such that $f_n(x) \rightarrow f(x)$ a.e. $x$, as $n$ tends to infinity. If $|f_n(x)|  \leq g(x)$, where $g$ is integrable, then $ |f_n - f |  \rightarrow 0$ as  $n \rightarrow \infty$ and consequently $ \int f_n \rightarrow \int	f$ as $n \rightarrow \infty$.
\end{thm}

\begin{defn}[Complex Valued Function]
	If $f$ is a complex-valued function on $\reals^d$, we may write it as $f(x) = u(x) + i v(x)$ where $u$ and $v$ are real-valued functions called the real and imaginary	parts of $f$, respectively.
\end{defn}
\begin{property}
	The function $f$ is measurable if and only if both $u$ and $v$ are measurable.
\end{property}

\begin{defn}[Lebesgue Integrable Complex Valued Functions]
	We say that $f$ is Lebesgue integrable if the function $|f(x)| = (u(x)^2 + v(x)^2)^{\frac{1}{2}}$ (which is non-negative) is Lebesgue integrable in the sense defined previously. The Lebesgue integral of $f$ is defined by $\int f(x) dx = \int u(x) dx + i \int v(x) dx$.
\end{defn}
\begin{property}
	$|u(x)| \leq |f(x)|,\ |v(x)| \leq |f(x)|,\ |f(x)| \leq |u(x)| + |v(x)|$
\end{property}
\begin{property}
	If $f$ and $g$ are integrable then so is $f + g$. Also, if $a \in \mb{C}$ and if $f$ is integrable then so is $af$.
\end{property}

\section{The Space $L^1$ of Integrable Functions}

\begin{defn}[Norm ($\bf L^1$-Norm) of $\bf f$]
	For any integrable function $f$ on $\reals^d$ we define the norm of $f$, $\| f \| = \| f \|_{L^1} = \| f \|_{L^1(\reals^d)} = \int_{\reals^d} |f(x)| dx$.
\end{defn}

\begin{defn}[$\bf L^1(\reals^d)$]
	$L^1(\reals^d)$ is the space of equivalence classes of integrable functions, where we define two functions to be equivalent if they agree almost everywhere.
\end{defn}
\begin{property}
	$L^1(\reals^d)$ is a vector space.
\end{property}

\begin{prop}
	Suppose $f$ and $g$ are two functions in $L^1(\reals^d)$,
	\begin{itemize}
		\item $\| a f \|_{L^1(\reals^d)} = |a| \| f \|_{L^1(\reals^d)}, \forall a \in \mb{C} $
		\item $\| f + g \|_{L^1(\reals^d)} \leq \|  f \|_{L^1(\reals^d)} + \|  g \|_{L^1(\reals^d)} $
		\item $\| f \|_{L^1(\reals^d)} = 0 $ if and only if $f = 0$, a.e.
		\item $d(f, g) = \| f - g \|_{L^1(\reals^d)}$ defines a metric on $L^1(\reals^d)$ i.e. $d(f, g) \geq 0$, $d(f, g) = d(g, f)$ and $d(f, g) \leq d(f, h) + d(h, g) \forall f, g, h \in L^1(\reals^d)$
	\end{itemize}
\end{prop}

\begin{defn}[Complete Space]
	A space $V$ with a metric $d$ is said to be complete if for every Cauchy
	sequence $\set{x_k}$ in $V$ (that is, $\forall \epsilon > 0, \exists K_\epsilon$ such that $d(x_r, x_s) < \epsilon \forall r, s \geq K_\epsilon$) there exists $x \in V$ such that $\lim_{k \rightarrow \infty} x_k = x$ in the sense that $d(x_k, x) \rightarrow 0$ as $k \rightarrow \infty$.
\end{defn}

\begin{thm}[Riesz-Fischer Theorem]
	The vector space $L^1$ is complete in its metric.
\end{thm}

\end{document}